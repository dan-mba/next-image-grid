{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport PropTypes from 'prop-types';\nimport SanitizedHTML from 'react-sanitized-html';\nimport { Container } from 'reactstrap';\nimport { webserver } from '../../util/webserver';\nimport Style from '../../components/style';\n\nvar Image = function Image(_ref) {\n  var image = _ref.image;\n  return __jsx(\"div\", {\n    className: \"jsx-3587580869\"\n  }, __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-3587580869\"\n  }, image.title)), __jsx(Container, {\n    className: \"my-container\"\n  }, __jsx(\"h1\", {\n    className: \"jsx-3587580869\" + \" \" + \"text-center h2\"\n  }, image.title), __jsx(\"figure\", {\n    className: \"jsx-3587580869\"\n  }, __jsx(\"img\", {\n    src: \"/\" + image.img + \".jpg\",\n    className: \"jsx-3587580869\" + \" \" + \"figure-img img-fluid\"\n  }), __jsx(\"figcaption\", {\n    className: \"jsx-3587580869\" + \" \" + \"lead\"\n  }, !image.original ? \" \" : __jsx(\"div\", {\n    className: \"jsx-3587580869\" + \" \" + \"sm\"\n  }, __jsx(\"small\", {\n    className: \"jsx-3587580869\"\n  }, __jsx(\"a\", {\n    href: image.original,\n    className: \"jsx-3587580869\"\n  }, \"Original image here\"))), __jsx(\"div\", {\n    className: \"jsx-3587580869\" + \" \" + \"text-center\"\n  }, image.caption))), !image.story ? \"\" : __jsx(SanitizedHTML, {\n    html: image.story,\n    className: \"story\"\n  })), __jsx(Style, null), __jsx(_JSXStyle, {\n    id: \"3587580869\"\n  }, \".my-container{background-color:rgba(255,255,255,0.8);border-radius:1vh;padding:2% 0;color:#111;}.sm{font-size:75%;line-height:1;}a{color:inherit;-webkit-text-decoration:underline;text-decoration:underline;}img.figure-img{margin:0;}.story{padding:2%;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxEZXZcXGdpdGh1YlxcbmV4dC1pbWFnZS1ncmlkXFxwYWdlc1xcaW1hZ2VcXFtpZF0uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMkN1QixBQUdnRCxBQU16QixBQUlBLEFBSUwsQUFJWixTQUhDLEVBR0EsR0FYZ0IsQUFJWSxjQUg1QixXQVBvQixrQkFDTCxhQUNGLElBU2IsT0FSQSIsImZpbGUiOiJDOlxcRGV2XFxnaXRodWJcXG5leHQtaW1hZ2UtZ3JpZFxccGFnZXNcXGltYWdlXFxbaWRdLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnXHJcbmltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLXVuZmV0Y2gnXHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcclxuaW1wb3J0IFNhbml0aXplZEhUTUwgZnJvbSAncmVhY3Qtc2FuaXRpemVkLWh0bWwnXHJcbmltcG9ydCB7Q29udGFpbmVyfSBmcm9tICdyZWFjdHN0cmFwJ1xyXG5pbXBvcnQge3dlYnNlcnZlcn0gZnJvbSAnLi4vLi4vdXRpbC93ZWJzZXJ2ZXInXHJcbmltcG9ydCBTdHlsZSBmcm9tICcuLi8uLi9jb21wb25lbnRzL3N0eWxlJ1xyXG5cclxuY29uc3QgSW1hZ2UgPSAoe2ltYWdlfSkgPT4gKFxyXG4gIDxkaXY+XHJcbiAgICA8SGVhZD5cclxuICAgICAgPHRpdGxlPntpbWFnZS50aXRsZX08L3RpdGxlPlxyXG4gICAgPC9IZWFkPlxyXG5cclxuICAgIDxDb250YWluZXIgY2xhc3NOYW1lPVwibXktY29udGFpbmVyXCI+XHJcbiAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBoMlwiPntpbWFnZS50aXRsZX08L2gxPlxyXG4gICAgICA8ZmlndXJlPlxyXG4gICAgICAgIDxpbWcgc3JjPXtcIi9cIitpbWFnZS5pbWcrXCIuanBnXCJ9IGNsYXNzTmFtZT1cImZpZ3VyZS1pbWcgaW1nLWZsdWlkXCIvPlxyXG4gICAgICAgIDxmaWdjYXB0aW9uIGNsYXNzTmFtZT1cImxlYWRcIj5cclxuICAgICAgICAgIHshaW1hZ2Uub3JpZ2luYWwgPyBcIiBcIiA6XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic21cIj5cclxuICAgICAgICAgICAgICA8c21hbGw+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPXtpbWFnZS5vcmlnaW5hbH0+T3JpZ2luYWwgaW1hZ2UgaGVyZTwvYT5cclxuICAgICAgICAgICAgICA8L3NtYWxsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAge2ltYWdlLmNhcHRpb259XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2ZpZ2NhcHRpb24+XHJcbiAgICAgIDwvZmlndXJlPlxyXG4gICAgICB7IWltYWdlLnN0b3J5ID8gXCJcIiA6XHJcbiAgICAgICAgPFNhbml0aXplZEhUTUwgXHJcbiAgICAgICAgICBodG1sPXtpbWFnZS5zdG9yeX1cclxuICAgICAgICAgIGNsYXNzTmFtZT1cInN0b3J5XCJcclxuICAgICAgICAvPlxyXG4gICAgICB9XHJcblxyXG4gICAgPC9Db250YWluZXI+XHJcblxyXG4gICAgPFN0eWxlIC8+XHJcblxyXG4gICAgPHN0eWxlIGpzeCBnbG9iYWw+e2BcclxuICAgICAgLm15LWNvbnRhaW5lciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjgpO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDF2aDtcclxuICAgICAgICBwYWRkaW5nOiAyJSAwO1xyXG4gICAgICAgIGNvbG9yOiAjMTExO1xyXG4gICAgICB9XHJcbiAgICAgIC5zbXtcclxuICAgICAgICBmb250LXNpemU6IDc1JTtcclxuICAgICAgICBsaW5lLWhlaWdodDogMTtcclxuICAgICAgfVxyXG4gICAgICBhIHtcclxuICAgICAgICBjb2xvcjogaW5oZXJpdDtcclxuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuICAgICAgfVxyXG4gICAgICBpbWcuZmlndXJlLWltZyB7XHJcbiAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICB9XHJcbiAgICAgIC5zdG9yeSB7XHJcbiAgICAgICAgcGFkZGluZzogMiVcclxuICAgICAgfVxyXG4gICAgYH08L3N0eWxlPlxyXG4gIDwvZGl2PlxyXG4pO1xyXG5cclxuSW1hZ2UucHJvcFR5cGVzID0ge1xyXG4gIGltYWdlOiBQcm9wVHlwZXMub2JqZWN0XHJcbn1cclxuXHJcbkltYWdlLmdldEluaXRpYWxQcm9wcyA9IGFzeW5jICh7cXVlcnl9KSA9PiB7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7d2Vic2VydmVyfS9hcGkvaW1hZ2VzLyR7cXVlcnkuaWR9YClcclxuICBjb25zdCBqc29uID0gYXdhaXQgcmVzLmpzb24oKVxyXG4gIHJldHVybiB7IGltYWdlOiBqc29uLmltYWdlIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW1hZ2U7Il19 */\\n/*@ sourceURL=C:\\\\\\\\Dev\\\\\\\\github\\\\\\\\next-image-grid\\\\\\\\pages\\\\\\\\image\\\\\\\\[id].js */\"));\n};\n\nImage.propTypes = {\n  image: PropTypes.object\n};\n\nImage.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref2) {\n    var query, res, json;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref2.query;\n            _context.next = 3;\n            return fetch(\"\".concat(webserver, \"/api/images/\").concat(query.id));\n\n          case 3:\n            res = _context.sent;\n            _context.next = 6;\n            return res.json();\n\n          case 6:\n            json = _context.sent;\n            return _context.abrupt(\"return\", {\n              image: json.image\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default Image;","map":{"version":3,"sources":["C:/Dev/github/next-image-grid/pages/image/[id].js"],"names":["React","Head","fetch","PropTypes","SanitizedHTML","Container","webserver","Style","Image","image","title","img","original","caption","story","propTypes","object","getInitialProps","query","id","res","json"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,SAAQC,SAAR,QAAwB,YAAxB;AACA,SAAQC,SAAR,QAAwB,sBAAxB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,MAAEC,KAAF,QAAEA,KAAF;AAAA,SACZ;AAAA;AAAA,KACE,MAAC,IAAD,QACE;AAAA;AAAA,KAAQA,KAAK,CAACC,KAAd,CADF,CADF,EAKE,MAAC,SAAD;AAAW,IAAA,SAAS,EAAC;AAArB,KACE;AAAA,wCAAc;AAAd,KAAgCD,KAAK,CAACC,KAAtC,CADF,EAEE;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAE,MAAID,KAAK,CAACE,GAAV,GAAc,MAAxB;AAAA,wCAA0C;AAA1C,IADF,EAEE;AAAA,wCAAsB;AAAtB,KACG,CAACF,KAAK,CAACG,QAAP,GAAkB,GAAlB,GACC;AAAA,wCAAe;AAAf,KACE;AAAA;AAAA,KACE;AAAG,IAAA,IAAI,EAAEH,KAAK,CAACG,QAAf;AAAA;AAAA,2BADF,CADF,CAFJ,EAQE;AAAA,wCAAe;AAAf,KACGH,KAAK,CAACI,OADT,CARF,CAFF,CAFF,EAiBG,CAACJ,KAAK,CAACK,KAAP,GAAe,EAAf,GACC,MAAC,aAAD;AACE,IAAA,IAAI,EAAEL,KAAK,CAACK,KADd;AAEE,IAAA,SAAS,EAAC;AAFZ,IAlBJ,CALF,EA+BE,MAAC,KAAD,OA/BF;AAAA;AAAA,s9GADY;AAAA,CAAd;;AA2DAN,KAAK,CAACO,SAAN,GAAkB;AAChBN,EAAAA,KAAK,EAAEN,SAAS,CAACa;AADD,CAAlB;;AAIAR,KAAK,CAACS,eAAN;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAQC,YAAAA,KAAR,SAAQA,KAAR;AAAA;AAAA,mBACJhB,KAAK,WAAII,SAAJ,yBAA4BY,KAAK,CAACC,EAAlC,EADD;;AAAA;AAChBC,YAAAA,GADgB;AAAA;AAAA,mBAEHA,GAAG,CAACC,IAAJ,EAFG;;AAAA;AAEhBA,YAAAA,IAFgB;AAAA,6CAGf;AAAEZ,cAAAA,KAAK,EAAEY,IAAI,CAACZ;AAAd,aAHe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAAA;AAAA;AAAA;AAAA;;AAMA,eAAeD,KAAf","sourcesContent":["import React from 'react'\r\nimport Head from 'next/head'\r\nimport fetch from 'isomorphic-unfetch'\r\nimport PropTypes from 'prop-types'\r\nimport SanitizedHTML from 'react-sanitized-html'\r\nimport {Container} from 'reactstrap'\r\nimport {webserver} from '../../util/webserver'\r\nimport Style from '../../components/style'\r\n\r\nconst Image = ({image}) => (\r\n  <div>\r\n    <Head>\r\n      <title>{image.title}</title>\r\n    </Head>\r\n\r\n    <Container className=\"my-container\">\r\n      <h1 className=\"text-center h2\">{image.title}</h1>\r\n      <figure>\r\n        <img src={\"/\"+image.img+\".jpg\"} className=\"figure-img img-fluid\"/>\r\n        <figcaption className=\"lead\">\r\n          {!image.original ? \" \" :\r\n            <div className=\"sm\">\r\n              <small>\r\n                <a href={image.original}>Original image here</a>\r\n              </small>\r\n            </div>\r\n          }\r\n          <div className=\"text-center\">\r\n            {image.caption}\r\n          </div>\r\n        </figcaption>\r\n      </figure>\r\n      {!image.story ? \"\" :\r\n        <SanitizedHTML \r\n          html={image.story}\r\n          className=\"story\"\r\n        />\r\n      }\r\n\r\n    </Container>\r\n\r\n    <Style />\r\n\r\n    <style jsx global>{`\r\n      .my-container {\r\n        background-color: rgba(255,255,255,0.8);\r\n        border-radius: 1vh;\r\n        padding: 2% 0;\r\n        color: #111;\r\n      }\r\n      .sm{\r\n        font-size: 75%;\r\n        line-height: 1;\r\n      }\r\n      a {\r\n        color: inherit;\r\n        text-decoration: underline;\r\n      }\r\n      img.figure-img {\r\n        margin: 0;\r\n      }\r\n      .story {\r\n        padding: 2%\r\n      }\r\n    `}</style>\r\n  </div>\r\n);\r\n\r\nImage.propTypes = {\r\n  image: PropTypes.object\r\n}\r\n\r\nImage.getInitialProps = async ({query}) => {\r\n  const res = await fetch(`${webserver}/api/images/${query.id}`)\r\n  const json = await res.json()\r\n  return { image: json.image }\r\n}\r\n\r\nexport default Image;"]},"metadata":{},"sourceType":"module"}