{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport SanitizedHTML from 'react-sanitized-html';\nimport { Container } from 'reactstrap';\nimport { webserver } from '../../util/webserver';\nimport Style from '../../components/style';\n\nvar Image = function Image(_ref) {\n  var image = _ref.image;\n  return __jsx(\"div\", {\n    className: \"jsx-3587580869\"\n  }, __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-3587580869\"\n  }, image.title)), __jsx(Container, {\n    className: \"my-container\"\n  }, __jsx(\"h1\", {\n    className: \"jsx-3587580869\" + \" \" + \"text-center h2\"\n  }, image.title), __jsx(\"figure\", {\n    className: \"jsx-3587580869\"\n  }, __jsx(\"img\", {\n    src: \"/\" + image.img + \".jpg\",\n    className: \"jsx-3587580869\" + \" \" + \"figure-img img-fluid\"\n  }), __jsx(\"figcaption\", {\n    className: \"jsx-3587580869\" + \" \" + \"lead\"\n  }, !image.original ? \" \" : __jsx(\"div\", {\n    className: \"jsx-3587580869\" + \" \" + \"sm\"\n  }, __jsx(\"small\", {\n    className: \"jsx-3587580869\"\n  }, __jsx(\"a\", {\n    href: image.original,\n    className: \"jsx-3587580869\"\n  }, \"Original image here\"))), __jsx(\"div\", {\n    className: \"jsx-3587580869\" + \" \" + \"text-center\"\n  }, image.caption))), !image.story ? \"\" : __jsx(SanitizedHTML, {\n    html: image.story,\n    className: \"story\"\n  })), __jsx(Style, null), __jsx(_JSXStyle, {\n    id: \"3587580869\"\n  }, [\".my-container{background-color:rgba(255,255,255,0.8);border-radius:1vh;padding:2% 0;color:#111;}\", \".sm{font-size:75%;line-height:1;}\", \"a{color:inherit;-webkit-text-decoration:underline;text-decoration:underline;}\", \"img.figure-img{margin:0;}\", \".story{padding:2%;}\"]));\n};\n\nImage.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref2) {\n    var query, res, json;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref2.query;\n            _context.next = 3;\n            return fetch(\"\".concat(webserver, \"/api/images/\").concat(query.id));\n\n          case 3:\n            res = _context.sent;\n            _context.next = 6;\n            return res.json();\n\n          case 6:\n            json = _context.sent;\n            return _context.abrupt(\"return\", {\n              image: json.image\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default Image;","map":null,"metadata":{},"sourceType":"module"}